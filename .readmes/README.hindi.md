<img width="150" height="150" align="left" style="float: left; margin: 0 10px 0 0;" alt="MS-DOS logo" src="https://github.com/Microsoft/MS-DOS/blob/main/.readmes/msdos-logo.png">

# MS-DOS v1.25, v2.0, v4.0 рд╕реНрд░реЛрдд рдХреЛрдб

[![Build MS-DOS 4](https://github.com/tgies/MS-DOS/actions/workflows/build.yml/badge.svg)](https://github.com/tgies/MS-DOS/actions/workflows/build.yml)

рдЗрд╕ рд░реЗрдкреЛ рдореЗрдВ MS-DOS v1.25 рдФрд░ MS-DOS v2.0 рдХреЗ рд▓рд┐рдП рдореВрд▓ рд╕реНрд░реЛрдд-рдХреЛрдб рдФрд░ рд╕рдВрдХрд▓рд┐рдд рдмрд╛рдЗрдирд░реА, рд╕рд╛рде рд╣реА IBM рдФрд░ Microsoft рджреНрд╡рд╛рд░рд╛ рд╕рдВрдпреБрдХреНрдд рд░реВрдк рд╕реЗ рд╡рд┐рдХрд╕рд┐рдд MS-DOS v4.00 рдХрд╛ рд╕реНрд░реЛрдд-рдХреЛрдб рд╢рд╛рдорд┐рд▓ рд╣реИред

MS-DOS v1.25 рдФрд░ v2.0 рдХреА рдлрд╝рд╛рдЗрд▓реЗрдВ [рдореВрд▓ рд░реВрдк рд╕реЗ 25 рдорд╛рд░реНрдЪ, 2014 рдХреЛ рдХрдВрдкреНрдпреВрдЯрд░ рдЗрддрд┐рд╣рд╛рд╕ рд╕рдВрдЧреНрд░рд╣рд╛рд▓рдп рдореЗрдВ рд╕рд╛рдЭрд╛ рдХреА рдЧрдИ рдереАрдВ](http://www.computerhistory.org/atchm/microsoft-ms-dos-early-source-code/) рдФрд░ рдЗрдиреНрд╣реЗрдВ рдЗрд╕ рд░реЗрдкреЛ рдореЗрдВ (рдлрд┐рд░ рд╕реЗ) рдкреНрд░рдХрд╛рд╢рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд░рд╣рд╛ рд╣реИ рддрд╛рдХрд┐ рдЗрдиреНрд╣реЗрдВ рдЦреЛрдЬрдирд╛ рдЖрд╕рд╛рди рд╣реЛ, рдмрд╛рд╣рд░реА рд▓реЗрдЦрди рдФрд░ рдХрд╛рд░реНрдпреЛрдВ рдореЗрдВ рд╕рдВрджрд░реНрднрд┐рдд рдХрд░рдирд╛ рд╕рдВрднрд╡ рд╣реЛ, рдФрд░ рд╢реБрд░реБрдЖрддреА PC рдСрдкрд░реЗрдЯрд┐рдВрдЧ рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ рд░реБрдЪрд┐ рд░рдЦрдиреЗ рд╡рд╛рд▓реЛрдВ рдХреЗ рд▓рд┐рдП рдЕрдиреНрд╡реЗрд╖рдг рдФрд░ рдкреНрд░рдпреЛрдЧ рдХреА рдЕрдиреБрдорддрд┐ рдорд┐рд▓ рд╕рдХреЗред

# рдЗрд╕ fork рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ

рдпрд╣ fork MS-DOS 4.0 рд╕реНрд░реЛрдд рдХреЛрдб рдХреЗ рд▓рд┐рдП рдПрдХ рдХрд╛рд░реНрдпрд╢реАрд▓ рдмрд┐рд▓реНрдб рд╕рд┐рд╕реНрдЯрдо рдФрд░ CI рдкрд╛рдЗрдкрд▓рд╛рдЗрди рдЬреЛрдбрд╝рддрд╛ рд╣реИред рдпрд╣ рдореВрд▓ 8086 рдЕрд╕реЗрдВрдмрд▓реА рдФрд░ C рд╕реНрд░реЛрддреЛрдВ рдХреЛ рдПрдХ рдкреВрд░реНрдг, рдмреВрдЯ рдХрд░рдиреЗ рдпреЛрдЧреНрдп рдСрдкрд░реЗрдЯрд┐рдВрдЧ рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ рдмрдирд╛рддрд╛ рд╣реИ -- рджреЛрдиреЛрдВ OEM **MS-DOS** рдФрд░ **IBM PC-DOS** flavorsред

рдмрд┐рд▓реНрдб рддреИрдпрд╛рд░-рдЙрдкрдпреЛрдЧ рдбрд┐рд╕реНрдХ рдЗрдореЗрдЬ (64MB рд╣рд╛рд░реНрдб рдбрд┐рд╕реНрдХ рдФрд░ 360KB рд╕реЗ 1.44MB рддрдХ рдХреА рдЕрд╡рдзрд┐-рд╕рд╣реА floppies) рддреИрдпрд╛рд░ рдХрд░рддрд╛ рд╣реИ рдЬреЛ QEMU, VirtualBox, bochs, dosemu, 86Box, PCem, рдпрд╛ рд╡рд╛рд╕реНрддрд╡рд┐рдХ vintage hardware рдореЗрдВ рдмреВрдЯ рд╣реЛрддреЗ рд╣реИрдВред рдкреВрд░реНрд╡-рдирд┐рд░реНрдорд┐рдд рдЗрдореЗрдЬ [Releases](https://github.com/tgies/MS-DOS/releases) рдкреЗрдЬ рдкрд░ рдЙрдкрд▓рдмреНрдз рд╣реИрдВред

рдпрд╣ рдХрд╛рд░реНрдп MS-DOS 4.0 рд╕реНрд░реЛрдд рдХреЛрдб рдХреЛ рдмрд┐рд▓реНрдб рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рджреВрд╕рд░реЛрдВ рджреНрд╡рд╛рд░рд╛ рдХрд┐рдП рдЧрдП рдкреВрд░реНрд╡ рдХрд╛рд░реНрдп рд╕реЗ рдмрд╣реБрдд рд▓рд╛рднрд╛рдиреНрд╡рд┐рдд рд╣реЛрддрд╛ рд╣реИ, рдЬрд┐рд╕рдореЗрдВ рд░рд┐рд▓реАрдЬрд╝ рдХрд┐рдП рдЧрдП рд╕реНрд░реЛрдд рдЯреНрд░реА рдореЗрдВ рдХреБрдЫ рдЫреЛрдЯреА рд╕рдорд╕реНрдпрд╛рдУрдВ (рдЧрд▓рдд рдлрд╝рд╛рдЗрд▓ рдкрде рдФрд░ рд╡рд┐рдХреГрдд рд╡рд░реНрдг рдПрдиреНрдХреЛрдбрд┐рдВрдЧ) рдХреЛ рд╕рд╛рдлрд╝ рдХрд░рдирд╛ рд╢рд╛рдорд┐рд▓ рд╣реИ, рдЬрд┐рд╕рдореЗрдВ [ecm](https://hg.pushbx.org/ecm/msdos4) рдФрд░ [hharte](https://github.com/hharte/MS-DOS/commit/1f506100a818cb9b6c2b29aeda8d4d24d094c477) рд╢рд╛рдорд┐рд▓ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдпрд╣ рдЗрдиреНрд╣реАрдВ рддрдХ рд╕реАрдорд┐рдд рдирд╣реАрдВ рд╣реИред

# рдЗрд╕реЗ рдЖрдЬрдорд╛рдПрдВ

[рдирд╡реАрдирддрдо release](https://github.com/tgies/MS-DOS/releases) рд╕реЗ `msdos4.img` рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ рдФрд░ рдЗрд╕реЗ рдмреВрдЯ рдХрд░реЗрдВ:

```bash
qemu-system-i386 -hda msdos4.img
```

рдпрд╛ DOSBox рдХреЗ рд╕рд╛рде, DOSBox рдХреЛ рд╕рд╛рдорд╛рдиреНрдп рд░реВрдк рд╕реЗ рдкреНрд░рд╛рд░рдВрдн рдХрд░реЗрдВ рдФрд░ рдлрд┐рд░ рдЗрдореЗрдЬ рдХреЛ рдмреВрдЯ рдХрд░реЗрдВ (floppy рдЗрдореЗрдЬ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдкрд░ `-l C` рдЫреЛрдбрд╝ рджреЗрдВ):

```bash
BOOT msdos4.img -l C
```

рдпрд╛ dosemu рдХреЗ рд╕рд╛рде (`msdos4-dosemu.img` рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ, рдЬрд┐рд╕рдореЗрдВ dosemu2 рдХреЗ рд▓рд┐рдП рдПрдХ рд╡рд┐рд╢реЗрд╖ рд╣реЗрдбрд░ рд╣реИ):

```bash
dosemu -f <(echo '$_hdimage = "msdos4-dosemu.img"')
```

# рд▓рд╛рдЗрд╕реЗрдВрд╕

рдЗрд╕ рд░реЗрдкреЛ рдореЗрдВ рд╕рднреА рдлрд╝рд╛рдЗрд▓реЗрдВ рдЗрд╕ рд░реЗрдкреЛ рдХреЗ рд░реВрдЯ рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд [LICENSE рдлрд╝рд╛рдЗрд▓](https://github.com/Microsoft/MS-DOS/blob/main/LICENSE) рдХреЗ рдЕрдиреБрд╕рд╛рд░ [MIT License](https://en.wikipedia.org/wiki/MIT_License) рдХреЗ рддрд╣рдд рдЬрд╛рд░реА рдХреА рдЬрд╛рддреА рд╣реИрдВред

# рдРрддрд┐рд╣рд╛рд╕рд┐рдХ рд╕рдВрджрд░реНрдн рдХреЗ рд▓рд┐рдП

> **рдиреЛрдЯ:** рдпрд╣ рдЕрдиреБрднрд╛рдЧ Microsoft рдХреА рдореВрд▓ README.md рд╕реЗ рд╕рдВрд░рдХреНрд╖рд┐рдд рд╣реИ рдЬреЛ рд╕реНрд░реЛрдд рдХреЛрдб рд░рд┐рд▓реАрдЬрд╝ рдХреЗ рд╕рд╛рде рдЖрдИ рдереАред рдЗрд╕ рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдореЗрдВ рдмрд┐рд▓реНрдб рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдФрд░ рдЯреВрд▓рд┐рдВрдЧ рдХреЛ рдРрддрд┐рд╣рд╛рд╕рд┐рдХ рд╕реНрд░реЛрдд рдХреЛрдб рд╕реЗ рдЕрд▓рдЧ рд░рдЦрд╛ рдЬрд╛рддрд╛ рд╣реИред рдмрд┐рд▓реНрдб рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ рд╕реБрдзрд╛рд░ рдХреЗ рд▓рд┐рдП рдкреБрд▓ рдЕрдиреБрд░реЛрдз рд╕реНрд╡рд╛рдЧрдд рдпреЛрдЧреНрдп рд╣реИрдВред

рдЗрд╕ рд░реЗрдкреЛ рдореЗрдВ рд╕реНрд░реЛрдд рдлрд╝рд╛рдЗрд▓реЗрдВ рдРрддрд┐рд╣рд╛рд╕рд┐рдХ рд╕рдВрджрд░реНрдн рдХреЗ рд▓рд┐рдП рд╣реИрдВ рдФрд░ рд╕реНрдерд┐рд░ рд░рдЦреА рдЬрд╛рдПрдВрдЧреА, рдЗрд╕рд▓рд┐рдП рдХреГрдкрдпрд╛ рд╕реНрд░реЛрдд рдлрд╝рд╛рдЗрд▓реЛрдВ рдореЗрдВ рдХрд┐рд╕реА рднреА рд╕рдВрд╢реЛрдзрди рдХрд╛ рд╕реБрдЭрд╛рд╡ рджреЗрдиреЗ рд╡рд╛рд▓реЗ рдкреБрд▓ рдЕрдиреБрд░реЛрдз **рди рднреЗрдЬреЗрдВ**, рд▓реЗрдХрд┐рди рдЗрд╕ рд░реЗрдкреЛ рдХреЛ fork рдХрд░рдиреЗ рдФрд░ рдкреНрд░рдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕реНрд╡рддрдВрддреНрд░ рдорд╣рд╕реВрд╕ рдХрд░реЗрдВ ЁЯШКред

рдЗрд╕ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдиреЗ [Microsoft Open Source Code of Conduct](https://opensource.microsoft.com/codeofconduct/) рдХреЛ рдЕрдкрдирд╛рдпрд╛ рд╣реИред рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП [Code of Conduct FAQ](https://opensource.microsoft.com/codeofconduct/faq/) рджреЗрдЦреЗрдВ рдпрд╛ рдХрд┐рд╕реА рднреА рдЕрддрд┐рд░рд┐рдХреНрдд рдкреНрд░рд╢реНрди рдпрд╛ рдЯрд┐рдкреНрдкрдгреА рдХреЗ рд╕рд╛рде [opencode@microsoft.com](mailto:opencode@microsoft.com) рд╕реЗ рд╕рдВрдкрд░реНрдХ рдХрд░реЗрдВред

# MS-DOS 4.0 рдмрд┐рд▓реНрдб рдХрд░рдирд╛

рдкреВрд░реНрд╡-рдирд┐рд░реНрдорд┐рдд рдбрд┐рд╕реНрдХ рдЗрдореЗрдЬ [Releases](https://github.com/tgies/MS-DOS/releases) рдкреЗрдЬ рдкрд░ рдЙрдкрд▓рдмреНрдз рд╣реИрдВред рд╕реНрд░реЛрдд рд╕реЗ рдмрд┐рд▓реНрдб рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП:

## рдЖрд╡рд╢реНрдпрдХрддрд╛рдПрдВ

- dosemu2
- mtools
- mkfatimage16 (dosemu2 рд╕реЗ)

> [!IMPORTANT]
> **comcom64 0.4-0~202602051302 рдпрд╛ рдмрд╛рдж рдХрд╛ рд╕рдВрд╕реНрдХрд░рдг рдЖрд╡рд╢реНрдпрдХ рд╣реИред** comcom64 рд╡рд╣ command.com рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрди рд╣реИ рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ dosemu2 рджреНрд╡рд╛рд░рд╛ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдХреБрдЫ рдкреБрд░рд╛рдиреЗ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдореЗрдВ `COPY` рдХрдорд╛рдВрдб рдореЗрдВ рдПрдХ [рдмрдЧ](https://github.com/dosemu2/comcom64/pull/117) рд╣реИ рдЬреЛ рдлрд╝рд╛рдЗрд▓ рд╕рдВрдпреЛрдЬрди (`copy /b a+b dest`) рдХреЛ рддреЛрдбрд╝ рджреЗрддрд╛ рд╣реИ рдЬрдм `COMMAND /C` рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЖрд╣реНрд╡рд╛рди рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ nmake makefile рдХрдорд╛рдВрдб рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд░рддрд╛ рд╣реИред рдЗрд╕рд╕реЗ IO.SYS рдмрд┐рд▓реНрдб рдЪреБрдкрдЪрд╛рдк рд╡рд┐рдлрд▓ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИред
>
> рдЕрдкрдиреЗ рд╕рдВрд╕реНрдХрд░рдг рдХреА рдЬрд╛рдБрдЪ рдХрд░реЗрдВ `dpkg -s comcom64 | grep Version` (Debian/Ubuntu) рдХреЗ рд╕рд╛рде рдпрд╛ рдЕрдкрдиреЗ рдкреИрдХреЗрдЬ рдореИрдиреЗрдЬрд░ рдХреА рдЬрд╛рдБрдЪ рдХрд░реЗрдВред рдпрджрд┐ рдЖрдк рдкреБрд░рд╛рдиреЗ рд╕рдВрд╕реНрдХрд░рдг рдкрд░ рд╣реИрдВ:
> - **рдЕрдиреБрд╢рдВрд╕рд┐рдд:** comcom64 рдХреЛ 0.4-0~202602051302 рдпрд╛ рдмрд╛рдж рдХреЗ рд╕рдВрд╕реНрдХрд░рдг рдореЗрдВ рдЕрдкрдбреЗрдЯ рдХрд░реЗрдВ
> - **рд╡рд░реНрдХрдЕрд░рд╛рдЙрдВрдб:** рд╕реНрд░реЛрдд рд╕реЗ comcom64 рдмрдирд╛рдПрдВ: `git clone https://github.com/dosemu2/comcom64 && cd comcom64 && make && sudo make install` (рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ рдХрд┐ `make install` рдЖрдкрдХреЗ рдореМрдЬреВрджрд╛ `command.efi` рдХреЗ рдКрдкрд░ рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░рддрд╛ рд╣реИ)

## рддреНрд╡рд░рд┐рдд рд╢реБрд░реБрдЖрдд

```bash
cd v4.0
./mak.sh              # DOS 4 рдмрд┐рд▓реНрдб рдХрд░реЗрдВ
./mkhdimg.sh          # 64MB рд╣рд╛рд░реНрдб рдбрд┐рд╕реНрдХ рдЗрдореЗрдЬ рдмрдирд╛рдПрдВ
./mkhdimg.sh --floppy # 1.44MB рдмреВрдЯ floppy рдмрдирд╛рдПрдВ
```

## рдмрд┐рд▓реНрдб Flavors

рд╕реНрд░реЛрдд рдХреЛрдб рдХрдИ рдмрд┐рд▓реНрдб рд╡рд┐рдиреНрдпрд╛рд╕реЛрдВ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИред `--flavor` рдлреНрд▓реИрдЧ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ:

```bash
./mak.sh                    # MS-DOS рдмрд┐рд▓реНрдб рдХрд░реЗрдВ (рдбрд┐рдлрд╝реЙрд▓реНрдЯ)
./mak.sh --flavor=pcdos     # IBM PC-DOS рдмрд┐рд▓реНрдб рдХрд░реЗрдВ
```

| Flavor | рд╕рд┐рд╕реНрдЯрдо рдлрд╝рд╛рдЗрд▓реЗрдВ | рд╡рд┐рд╡рд░рдг |
|--------|--------------|-------------|
| **msdos** | IO.SYS, MSDOS.SYS | IBM-рд╕рдВрдЧрдд PCs рдХреЗ рд▓рд┐рдП OEM MS-DOS (рдбрд┐рдлрд╝реЙрд▓реНрдЯ, рдЕрдиреБрд╢рдВрд╕рд┐рдд) |
| **pcdos** | IBMBIO.COM, IBMDOS.COM | IBM PC-DOS (рдРрддрд┐рд╣рд╛рд╕рд┐рдХ рд╕рдЯреАрдХрддрд╛ рдХреЗ рд▓рд┐рдП) |

рджреЛрдиреЛрдВ flavors рдореЗрдВ IBM PC рд╣рд╛рд░реНрдбрд╡реЗрдпрд░-рд╡рд┐рд╢рд┐рд╖реНрдЯ рдХреЛрдб (INT 10H video BIOS, 8259 PIC, PCjr ROM рдХрд╛рд░реНрдЯреНрд░рд┐рдЬ рд╕рдорд░реНрдерди) рд╢рд╛рдорд┐рд▓ рд╣реИрдВред

**рдорд╣рддреНрд╡рдкреВрд░реНрдг:** **msdos** flavor рдореЗрдВ **pcdos** рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдЕрдзрд┐рдХ рдмрдЧ рдлрд┐рдХреНрд╕ рд╣реИрдВред рд╕рдВрднрд╡рддрдГ, Microsoft OEM MS-DOS рдореЗрдВ рдлрд┐рдХреНрд╕ рдХреЛ IBM рдХреА PC-DOS рдХреЗ рд▓рд┐рдП рд╕реНрд╡реАрдХреГрддрд┐ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рддреЗрдЬреА рд╕реЗ рдкреБрд╢ рдХрд░ рд╕рдХрддрд╛ рдерд╛ред рдпрд╣ рдЬреНрдЮрд╛рдд рд╣реИ рдХрд┐ IBM рдиреЗ DOS 3.3 рд╕реЗ DOS 4.0 рддрдХ рдЕрд╕реНрдерд╛рдпреА рд░реВрдк рд╕реЗ DOS рд╡рд┐рдХрд╛рд╕ рдХреЛ рдЕрдирд┐рд╡рд╛рд░реНрдп рд░реВрдк рд╕реЗ рд╕рдВрднрд╛рд▓ рд▓рд┐рдпрд╛, рдЗрд╕рд▓рд┐рдП рдПрдХ рд╕рдВрднрд╛рд╡рд┐рдд рд╕рд┐рджреНрдзрд╛рдВрдд рдпрд╣ рд╣реИ рдХрд┐ рдЬрдм рдХреЛрдб Microsoft рдХреЛ рд╡рд╛рдкрд╕ рд╕реМрдВрдкрд╛ рдЧрдпрд╛ рддреЛ PC-DOS рдХреЛ рдЕрдирд┐рд╡рд╛рд░реНрдп рд░реВрдк рд╕реЗ рдЬрдореЗ рд╣реБрдП рдорд╛рдирд╛ рдЬрд╛рддрд╛ рдерд╛, рдЬрд┐рд╕рдиреЗ рдХрдИ рдмрдЧ рдкрд╛рдП рдЬрд┐рдиреНрд╣реЗрдВ рдЙрдиреНрд╣реЛрдВрдиреЗ OEM MS-DOS рдореЗрдВ рдареАрдХ рдХрд┐рдпрд╛ рдмрд┐рдирд╛ PC-DOS рдХреЛ рдЫреБрдПред

рдЙрд▓реНрд▓реЗрдЦрдиреАрдп рдЕрдВрддрд░:
- DOS kernel INT 24 (рдХреНрд░рд┐рдЯрд┐рдХрд▓ рдПрд░рд░) рд╣реИрдВрдбрд▓рд┐рдВрдЧ рдлрд┐рдХреНрд╕
- рдмрдбрд╝реА рдбрд┐рд╕реНрдХ рдХреЗ рд▓рд┐рдП FDISK integer overflow рд╕реБрд░рдХреНрд╖рд╛
- FASTOPEN рдореЗрдВ рдмрдбрд╝реЗ EMS рдмрдлрд░
- EXE2BIN рдореЗрдВ рдмреЗрд╣рддрд░ рдЗрдирдкреБрдЯ рд╕рддреНрдпрд╛рдкрди

рдбрд┐рдлрд╝реЙрд▓реНрдЯ **msdos** flavor рд╡рд╣ рд╣реИ рдЬрд┐рд╕реЗ Compaq, Dell, рдФрд░ HP рдЬреИрд╕реЗ OEMs рдиреЗ рдЕрдкрдиреЗ IBM-рд╕рдВрдЧрдд PCs рдкрд░ "MS-DOS" рдХреЗ рд░реВрдк рдореЗрдВ рд╢рд┐рдк рдХрд┐рдпрд╛ред рдпрд╣ рд╕реНрд░реЛрдд рд░рд┐рд▓реАрдЬрд╝ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ OAK (OEM Adaptation Kit) рд╕реЗ рдкреНрд░рд╛рдкреНрдд рд╣реЛрддреА рдкреНрд░рддреАрдд рд╣реЛрддреА рд╣реИ -- рд╡рд╣ рдХреЛрдб рдЬреЛ Microsoft рдиреЗ OEMs рдХреЛ рдкреНрд░рджрд╛рди рдХрд┐рдпрд╛ рддрд╛рдХрд┐ рд╡реЗ рдЕрдкрдиреЗ рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ рдХреЗ рд▓рд┐рдП MS-DOS рдХреЛ рдЕрдиреБрдХреВрд▓рд┐рдд рдХрд░ рд╕рдХреЗрдВред

## рдбрд┐рд╕реНрдХ рдЗрдореЗрдЬ рд╡рд┐рдХрд▓реНрдк

```bash
# рд╣рд╛рд░реНрдб рдбрд┐рд╕реНрдХ рдЗрдореЗрдЬ (msdos4.img + msdos4-dosemu.img рддреИрдпрд╛рд░ рдХрд░рддрд╛ рд╣реИ)
./mkhdimg.sh                    # 64MB FAT16 рдЗрдореЗрдЬ
./mkhdimg.sh --size 32          # 32MB рдЗрдореЗрдЬ

# Floppy рдЗрдореЗрдЬ (рд╕рднреА рдЖрдХрд╛рд░)
./mkhdimg.sh --floppy           # 1.44MB рдиреНрдпреВрдирддрдо (рдХреЗрд╡рд▓ рд╕рд┐рд╕реНрдЯрдо рдлрд╝рд╛рдЗрд▓реЗрдВ)
./mkhdimg.sh --floppy=360 --floppy-full   # 360KB рдЙрдкрдпреЛрдЧрд┐рддрд╛рдУрдВ рдХреЗ рд╕рд╛рде
./mkhdimg.sh --floppy=720 --floppy-full   # 720KB рдЙрдкрдпреЛрдЧрд┐рддрд╛рдУрдВ рдХреЗ рд╕рд╛рде
./mkhdimg.sh --floppy=1200 --floppy-full  # 1.2MB рдЙрдкрдпреЛрдЧрд┐рддрд╛рдУрдВ рдХреЗ рд╕рд╛рде
./mkhdimg.sh --floppy=1440 --floppy-full  # 1.44MB рдЙрдкрдпреЛрдЧрд┐рддрд╛рдУрдВ рдХреЗ рд╕рд╛рде
```

рд╣рд╛рд░реНрдб рдбрд┐рд╕реНрдХ рдЗрдореЗрдЬ рджреЛ рдлреЙрд░реНрдореЗрдЯ рдореЗрдВ рддреИрдпрд╛рд░ рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВ: `msdos4.img` рдПрдХ рдХрдЪреНрдЪреА рдбрд┐рд╕реНрдХ рдЗрдореЗрдЬ рд╣реИ рдЬреЛ QEMU, VirtualBox, bochs, рдФрд░ рдЕрдзрд┐рдХрд╛рдВрд╢ рдПрдореБрд▓реЗрдЯрд░ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рддреА рд╣реИред `msdos4-dosemu.img` dosemu hdimage рдлреЙрд░реНрдореЗрдЯ рд╣реИ (128-рдмрд╛рдЗрдЯ рд╣реЗрдбрд░)ред Floppy рдЗрдореЗрдЬ рдХрдЪреНрдЪреА рд╣реИрдВ рдФрд░ рд╣рд░ рдЬрдЧрд╣ рдХрд╛рдо рдХрд░рддреА рд╣реИрдВред

## рдЬреНрдЮрд╛рдд рд╕реАрдорд╛рдПрдВ

- **DOS Shell рд╢рд╛рдорд┐рд▓ рдирд╣реАрдВ**: DOS Shell (DOSSHELL) рд╕реНрд░реЛрдд рдХреЛрдб рдУрдкрди-рд╕реЛрд░реНрд╕ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред SELECT.EXE (рдЗрдВрд╕реНрдЯреЙрд▓рд░) DOSSHELL рдХреЗ рд╕рд╛рде рдХреБрдЫ рдХреЛрдб рд╕рд╛рдЭрд╛ рдХрд░рддрд╛ рд╣реИ рдФрд░ рдмрдирд╛рдпрд╛ рдирд╣реАрдВ рдЬрд╛ рд╕рдХрддрд╛ред
- **PC-DOS рдмреНрд░рд╛рдВрдбрд┐рдВрдЧ рдЕрдзреВрд░реА**: `--flavor=pcdos` рдмрд┐рд▓реНрдб IBM рд╕рд┐рд╕реНрдЯрдо рдлрд╝рд╛рдЗрд▓ рдирд╛рдореЛрдВ (IBMBIO.COM, IBMDOS.COM) рдФрд░ рдХреБрдЫ PC-DOS-рд╡рд┐рд╢рд┐рд╖реНрдЯ рдХреЛрдб рдкрдереЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдлрд┐рд░ рднреА VER рдФрд░ рд╕реНрдЯрд╛рд░реНрдЯрдЕрдк рдмреИрдирд░ рдореЗрдВ "MS-DOS" рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рддрд╛ рд╣реИред рдРрд╕рд╛ рдЗрд╕рд▓рд┐рдП рд╣реИ рдХреНрдпреЛрдВрдХрд┐ IBM рдХреА рд╕рдВрджреЗрд╢ рдлрд╝рд╛рдЗрд▓ (`usa-ibm.msg` рдпрд╛ рд╕рдорд╛рди) рдУрдкрди-рд╕реЛрд░реНрд╕ рдирд╣реАрдВ рдХреА рдЧрдИ рдереАтАФрдХреЗрд╡рд▓ Microsoft-рдмреНрд░рд╛рдВрдбреЗрдб `usa-ms.msg` рд░рд┐рд▓реАрдЬрд╝ рдХреА рдЧрдИ рдереАред
- **рдЧреИрд░-IBM-рд╕рдВрдЧрдд рдмрд┐рд▓реНрдб**: рдЧреИрд░-IBM-рд╕рдВрдЧрдд рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ рдХреЗ рд▓рд┐рдП рд╕реНрд░реЛрдд рдореЗрдВ рдПрдХ рддреАрд╕рд░рд╛ рд╡рд┐рдиреНрдпрд╛рд╕ (`IBMVER=FALSE`) рдореМрдЬреВрдж рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣ рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ рдмрд┐рд▓реНрдб рдирд╣реАрдВ рд╣реЛрддрд╛ред рдРрд╕рд╛ рдкреНрд░рддреАрдд рд╣реЛрддрд╛ рд╣реИ рдХрд┐ рдпрд╣ рд╡рд┐рдиреНрдпрд╛рд╕ 1980 рдХреЗ рджрд╢рдХ рдХреА рд╢реБрд░реБрдЖрдд рдХреЗ рдХреБрдЫ рдЕрд▓реНрдкрдХрд╛рд▓рд┐рдХ рдЧреИрд░-IBM-рд╕рдВрдЧрдд x86 PCs рдХреЗ рд▓рд┐рдП рд╣реИ -- рдпрд╣ рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ IBM-рд╕рдВрдЧрдд-рд╡рд┐рд╢рд┐рд╖реНрдЯ рдХреЛрдб рдкрдереЛрдВ рдХреЛ рдЯрд╛рд▓рддрд╛ рд╣реИ рдЬреЛ BIOS, PIC, PIT, рдЖрджрд┐ рдЬреИрд╕реЗ рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ рд╕реЗ рдирд┐рдкрдЯрддреЗ рд╣реИрдВред рдЖрдЧреЗ рдХреА рдЬрд╛рдВрдЪ рдЖрд╡рд╢реНрдпрдХ рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣ рд╕рдВрднрд╛рд╡рдирд╛ рд╣реИ рдХрд┐ рдпрд╣ рд╕реНрд░реЛрдд рдЯреНрд░реА рдЕрдзреВрд░рд╛ рд╣реИ рдФрд░ рд╣рд╛рд░реНрдбрд╡реЗрдпрд░-рд╡рд┐рд╢рд┐рд╖реНрдЯ рдХреЛрдб (IO.SYS рд╕рд╛рдордЧреНрд░реА) рдЧрд╛рдпрдм рд╣реИ рдЬреЛ рдРрд╕реЗ рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ рдкрд░ DOS рд╕реЗрд╡рд╛рдУрдВ рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкреНрд░рджрд╛рди рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреАред

# рдЯреНрд░реЗрдбрдорд╛рд░реНрдХ

рдЗрд╕ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдореЗрдВ рдкрд░рд┐рдпреЛрдЬрдирд╛рдУрдВ, рдЙрддреНрдкрд╛рджреЛрдВ, рдпрд╛ рд╕реЗрд╡рд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдЯреНрд░реЗрдбрдорд╛рд░реНрдХ рдпрд╛ рд▓реЛрдЧреЛ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВред Microsoft рдЯреНрд░реЗрдбрдорд╛рд░реНрдХ рдпрд╛ рд▓реЛрдЧреЛ рдХрд╛ рдЕрдзрд┐рдХреГрдд рдЙрдкрдпреЛрдЧ [Microsoft's Trademark & Brand Guidelines](https://www.microsoft.com/legal/intellectualproperty/trademarks/usage/general) рдХреЗ рдЕрдзреАрди рд╣реИ рдФрд░ рдЙрд╕рдХрд╛ рдкрд╛рд▓рди рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред
рдЗрд╕ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЗ рд╕рдВрд╢реЛрдзрд┐рдд рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдореЗрдВ Microsoft рдЯреНрд░реЗрдбрдорд╛рд░реНрдХ рдпрд╛ рд▓реЛрдЧреЛ рдХрд╛ рдЙрдкрдпреЛрдЧ рднреНрд░рдо рдкреИрджрд╛ рдирд╣реАрдВ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП рдпрд╛ Microsoft рдкреНрд░рд╛рдпреЛрдЬрди рдХрд╛ рд╕рдВрдХреЗрдд рдирд╣реАрдВ рджреЗрдирд╛ рдЪрд╛рд╣рд┐рдПред
рдХрд┐рд╕реА рднреА рддреГрддреАрдп-рдкрдХреНрд╖ рдЯреНрд░реЗрдбрдорд╛рд░реНрдХ рдпрд╛ рд▓реЛрдЧреЛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдЙрди рддреГрддреАрдп-рдкрдХреНрд╖ рдХреА рдиреАрддрд┐рдпреЛрдВ рдХреЗ рдЕрдзреАрди рд╣реИред
