<img width="150" height="150" align="left" style="float: left; margin: 0 10px 0 0;" alt="MS-DOS logo" src="https://github.com/Microsoft/MS-DOS/blob/main/.readmes/msdos-logo.png">

# ุงูููุฏ ุงููุตุฏุฑู ูู MS-DOS v1.25, v2.0, v4.0

[![Build MS-DOS 4](https://github.com/tgies/MS-DOS/actions/workflows/build.yml/badge.svg)](https://github.com/tgies/MS-DOS/actions/workflows/build.yml)

ูุฐู ุงููุฌููุนุฉ ุชุญุชูู ุนูู ุงูููุฏ ุงููุตุฏุฑู ุงูุฃุตูู ูุงููููุงุช ุงูุซูุงุฆูุฉ ุงูุชู ุชู ุฌูุนูุง ูููุณุฎุฉ 1.25 ูุงููุณุฎุฉ 2.0 ูู MS-DOSุ ุจุงูุฅุถุงูุฉ ุฅูู ุงูููุฏ ุงููุตุฏุฑู ูููุณุฎุฉ 4.00 ูู MS-DOS ุงูุฐู ุชู ุชุทููุฑู ุจุดูู ูุดุชุฑู ูู ูุจู IBM ูMicrosoft.

ุงููููุงุช ุงูุฎุงุตุฉ ุจุงููุณุฎุชูู MS-DOS v1.25 ู v2.0 ุชู [ุนุฑุถูุง ูู ูุชุญู ุชุงุฑูุฎ ุงูุญุงุณุจ ุงูุขูู ูู 25 ูุงุฑุณุ 2014](http://www.computerhistory.org/atchm/microsoft-ms-dos-early-source-code/) ููุชู ุฅุนุงุฏุฉ ูุดุฑูุง ูู ูุฐู ุงููุฌููุนุฉ ููุณูู ุงูุจุญุซ ูุงููุตูู ุฅูููุงุ ูุงูุฅุดุงุฑุฉ ููุง ูู ุงููุตุงุฏุฑ ุงูุฎุงุฑุฌูุฉ ุงูุฃุฎุฑูุ ููุฐูู ููุชุญ ุงููุฌุงู ููุงุณุชูุดุงู ูุงูุชุฌุฑุจุฉ ููู ูู ุงูุชูุงู ูู ูุธู ุชุดุบูู ุงูุญุงุณุจ ุงูุขูู ุงููุจูุฑุฉ.

# ุญูู ูุฐู ุงููุณุฎุฉ ุงููุดุชูุฉ

ูุฐู ุงููุณุฎุฉ ุงููุดุชูุฉ ุชุถูู ูุธุงู ุจูุงุก ุนุงูููุง ูุฎุท ุฃูุงุจูุจ CI ููููุฏ ุงููุตุฏุฑู ูู MS-DOS 4.0. ูููู ุจุจูุงุก ูููุงุช assembly ู C ุงูุฃุตููุฉ ูููุนุงูุฌ 8086 ูุฅูุชุงุฌ ูุธุงู ุชุดุบูู ูุงูู ูุงุจู ููุฅููุงุน -- ุณูุงุก ูุณุฎุฉ **MS-DOS** ูู OEM ุฃู ูุณุฎุฉ **IBM PC-DOS**.

ูููุชุฌ ุงูุจูุงุก ุตูุฑ ุฃูุฑุงุต ุฌุงูุฒุฉ ููุงุณุชุฎุฏุงู (ูุฑุต ุตูุจ ุจุญุฌู 64 ููุฌุงุจุงูุช ูุฃูุฑุงุต ูุฑูุฉ ุชุงุฑูุฎูุฉ ูู 360 ููููุจุงูุช ุฅูู 1.44 ููุฌุงุจุงูุช) ูููู ุฅููุงุนูุง ูู QEMU ุฃู VirtualBox ุฃู bochs ุฃู dosemu ุฃู 86Box ุฃู PCemุ ุฃู ุนูู ุฃุฌูุฒุฉ ูุฏููุฉ ุญููููุฉ. ุตูุฑ ููุจููุฉ ูุณุจููุง ูุชููุฑุฉ ุนูู ุตูุญุฉ [ุงูุฅุตุฏุงุฑุงุช](https://github.com/tgies/MS-DOS/releases).

ูุณุชููุฏ ูุฐุง ุงูุนูู ุจุดูู ูุจูุฑ ูู ุงูุฃุนูุงู ุงูุณุงุจูุฉ ุงูุชู ูุงู ุจูุง ุขุฎุฑูู ูุฌุนู ุงูููุฏ ุงููุตุฏุฑู ูู MS-DOS 4.0 ูุงุจูุงู ููุจูุงุก ูู ุฎูุงู ุชูุธูู ุจุนุถ ุงููุดุงูู ุงูุจุณูุทุฉ ูู ุดุฌุฑุฉ ุงูููุฏ ุงูููุตุฏุฑ (ูุณุงุฑุงุช ูููุงุช ุฎุงุทุฆุฉ ูุชุฑููุฒ ูุญุงุฑู ุชุงูู)ุ ุจูุง ูู ุฐููุ ุนูู ุณุจูู ุงููุซุงู ูุง ุงูุญุตุฑุ [ecm](https://hg.pushbx.org/ecm/msdos4) ู [hharte](https://github.com/hharte/MS-DOS/commit/1f506100a818cb9b6c2b29aeda8d4d24d094c477).

# ุฌุฑุจู

ูู ุจุชุญููู `msdos4.img` ูู [ุขุฎุฑ ุฅุตุฏุงุฑ](https://github.com/tgies/MS-DOS/releases) ููู ุจุฅููุงุนู:

```bash
qemu-system-i386 -hda msdos4.img
```

ุฃู ูุน DOSBoxุ ูู ุจุชุดุบูู DOSBox ุจุดูู ุทุจูุนู ุซู ูู ุจุฅููุงุน ุงูุตูุฑุฉ (ุงุญุฐู `-l C` ุฅุฐุง ููุช ุชุณุชุฎุฏู ุตูุฑุฉ ูุฑุต ูุฑู):

```bash
BOOT msdos4.img -l C
```

ุฃู ูุน dosemu (ูู ุจุชุญููู `msdos4-dosemu.img`ุ ูุงูุฐู ูุญุชูู ุนูู ุฑุฃุณูุฉ ุฎุงุตุฉ ูู dosemu2):

```bash
dosemu -f <(echo '$_hdimage = "msdos4-dosemu.img"')
```

# ุงูุฑุฎุตุฉ

ุฌููุน ุงููููุงุช ูู ูุฐู ุงููุฌููุนุฉ ุชู ูุดุฑูุง ุชุญุช [ุฑุฎุตุฉ MIT](https://en.wikipedia.org/wiki/MIT_License) ููุง ูู ูุฐููุฑ ูู [ููู ุงูุฑุฎุตุฉ](https://github.com/Microsoft/MS-DOS/blob/main/LICENSE) ุงูููุฌูุฏ ูู ุฌุฐุฑ ูุฐู ุงููุฌููุนุฉ.

# ูููุฑุฌุนูุฉ ุงูุชุงุฑูุฎูุฉ

> **ููุงุญุธุฉ:** ูุฐุง ุงููุณู ูุญููุธ ูู ููู README.md ุงูุฃุตูู ูู Microsoft ุงููุฑูู ูุน ุฅุตุฏุงุฑ ุงูููุฏ ุงููุตุฏุฑู. ุณูุฑูุจุชุงุช ุงูุจูุงุก ูุงูุฃุฏูุงุช ูู ูุฐู ุงููุฌููุนุฉ ูุชู ุตูุงูุชูุง ุจุดูู ูููุตู ุนู ุงูููุฏ ุงููุตุฏุฑู ุงูุชุงุฑูุฎู. ุทูุจุงุช ุงูุณุญุจ ูุชุญุณูู ูุธุงู ุงูุจูุงุก ูุฑุญุจ ุจูุง.

ุงููููุงุช ุงููุตุฏุฑูุฉ ูู ูุฐู ุงููุฌููุนุฉ ูู ูููุฑุฌุนูุฉ ุงูุชุงุฑูุฎูุฉ ูุณูุชู ุงูุญูุงุธ ุนูููุง ุซุงุจุชุฉุ ูุฐุง ูุฑุฌู **ุนุฏู ุฅุฑุณุงู** ุทูุจุงุช ุงูุณุญุจ ุงูุชู ุชูุชุฑุญ ุฃู ุชุนุฏููุงุช ุนูู ุงููููุงุช ุงููุตุฏุฑูุฉุ ูููู ูุง ุชุชุฑุฏุฏ ูู ุนูู ูุณุฎุฉ ูุดุชูุฉ ูู ูุฐู ุงููุฌููุนุฉ ูุงูุชุฌุฑุจุฉ ๐.

ูุฐุง ุงููุดุฑูุน ูุนูู ููู [ุณูุงุณุฉ Microsoft ููุชุนุงูู ูุน ุงูุจุฑุงูุฌ ููุชูุญุฉ ุงููุตุฏุฑ](https://opensource.microsoft.com/codeofconduct/). ููุฒูุฏ ูู ุงููุนูููุงุช ูุฑุฌู ุฒูุงุฑุฉ [ุฃุณุฆูุฉ ูุฃุฌูุจุฉ ุนู ุณูุงุณุฉ ุงูุชุนุงูู](https://opensource.microsoft.com/codeofconduct/faq/) ุฃู ุงูุชูุงุตู ุนุจุฑ [opencode@microsoft.com](mailto:opencode@microsoft.com) ูุฃู ุฃุณุฆูุฉ ุฅุถุงููุฉ ุฃู ููุงุญุธุงุช.

# ุจูุงุก MS-DOS 4.0

ุตูุฑ ุฃูุฑุงุต ููุจููุฉ ูุณุจููุง ูุชููุฑุฉ ุนูู ุตูุญุฉ [ุงูุฅุตุฏุงุฑุงุช](https://github.com/tgies/MS-DOS/releases). ููุจูุงุก ูู ุงููุตุฏุฑ:

## ุงููุชุทูุจุงุช

- dosemu2
- mtools
- mkfatimage16 (ูู dosemu2)

> [!IMPORTANT]
> **ูุทููุจ comcom64 0.4-0~202602051302 ุฃู ุฃุญุฏุซ.** comcom64 ูู ุจุฏูู command.com ุงููุณุชุฎุฏู ูู ูุจู dosemu2. ุจุนุถ ุงูุฅุตุฏุงุฑุงุช ุงูุณุงุจูุฉ ุชุญุชูู ุนูู [ุฎูู ูู ุฃูุฑ `COPY`](https://github.com/dosemu2/comcom64/pull/117) ูุนุทู ุนูููุฉ ุฏูุฌ ุงููููุงุช (`copy /b a+b dest`) ุนูุฏ ุงุณุชุฏุนุงุฆูุง ุนุจุฑ `COMMAND /C`ุ ูุงูุฐู ูุณุชุฎุฏูู nmake ูุชูููุฐ ุฃูุงูุฑ makefile. ูุฐุง ูุณุจุจ ูุดู ุจูุงุก IO.SYS ุจุดูู ุตุงูุช.
>
> ุชุญูู ูู ุฅุตุฏุงุฑู ุจุงุณุชุฎุฏุงู `dpkg -s comcom64 | grep Version` (Debian/Ubuntu) ุฃู ุฑุงุฌุน ูุฏูุฑ ุงูุญุฒู ุงูุฎุงุต ุจู. ุฅุฐุง ูุงู ูุฏูู ุฅุตุฏุงุฑ ุฃูุฏู:
> - **ููุตู ุจู:** ูู ุจุชุญุฏูุซ comcom64 ุฅูู 0.4-0~202602051302 ุฃู ุฃุญุฏุซ
> - **ุญู ุจุฏูู:** ูู ุจุจูุงุก comcom64 ูู ุงููุตุฏุฑ: `git clone https://github.com/dosemu2/comcom64 && cd comcom64 && make && sudo make install` (ุชุฃูุฏ ูู ุฃู `make install` ูููู ุจุงูุชุซุจูุช ููู `command.efi` ุงูููุฌูุฏ ูุฏูู)

## ุงูุจุฏุงูุฉ ุงูุณุฑูุนุฉ

```bash
cd v4.0
./mak.sh              # ุจูุงุก DOS 4
./mkhdimg.sh          # ุฅูุดุงุก ุตูุฑุฉ ูุฑุต ุตูุจ 64 ููุฌุงุจุงูุช
./mkhdimg.sh --floppy # ุฅูุดุงุก ูุฑุต ุฅููุงุน ูุฑู 1.44 ููุฌุงุจุงูุช
```

## ูููุงุช ุงูุจูุงุก

ุงูููุฏ ุงููุตุฏุฑู ูุฏุนู ุชููููุงุช ุจูุงุก ูุชุนุฏุฏุฉ. ุงุณุชุฎุฏู ุงูุนูุงูุฉ `--flavor`:

```bash
./mak.sh                    # ุจูุงุก MS-DOS (ุงูุชุฑุงุถู)
./mak.sh --flavor=pcdos     # ุจูุงุก IBM PC-DOS
```

| ุงููููุฉ | ูููุงุช ุงููุธุงู | ุงููุตู |
|--------|--------------|-------------|
| **msdos** | IO.SYS, MSDOS.SYS | MS-DOS ูู OEM ูุฃุฌูุฒุฉ IBM-compatible PCs (ุงูุชุฑุงุถูุ ููุตู ุจู) |
| **pcdos** | IBMBIO.COM, IBMDOS.COM | IBM PC-DOS (ููุฏูุฉ ุงูุชุงุฑูุฎูุฉ) |

ููุง ุงููููุชูู ุชุชุถููุงู ููุฏูุง ุฎุงุตูุง ุจุฃุฌูุฒุฉ IBM PC (INT 10H video BIOSุ 8259 PICุ ุฏุนู ุฎุฑุทูุดุฉ ROM ูู PCjr).

**ููู:** ูููุฉ **msdos** ุชุญุชูู ุนูู ุฅุตูุงุญุงุช ุฃุฎุทุงุก ุฃูุซุฑ ูู **pcdos**. ุนูู ุงูุฃุฑุฌุญุ ูุงูุช Microsoft ูุงุฏุฑุฉ ุนูู ุฏูุน ุงูุฅุตูุงุญุงุช ุฅูู MS-DOS ูู OEM ุจุดูู ุฃุณุฑุน ููุง ุณูุญุช ุจู ุนูููุฉ ุงูููุงููุฉ ูุฏู IBM ูู PC-DOS. ูู ุงููุนุฑูู ุฃู IBM ุณูุทุฑุช ุจุดูู ุฃุณุงุณู ุนูู ุชุทููุฑ DOS ูุคูุชูุง ุชูุฑูุจูุง ูู DOS 3.3 ุญุชู DOS 4.0ุ ูุฐุง ุฅุญุฏู ุงููุธุฑูุงุช ุงููุญุชููุฉ ูู ุฃู PC-DOS ูุงู ููุนุชุจุฑ ูุฌูุฏูุง ุนูุฏูุง ุชู ุชุณููู ุงูููุฏ ูุฑุฉ ุฃุฎุฑู ุฅูู Microsoftุ ุงูุชู ุงูุชุดูุช ุนุฏุฏูุง ูู ุงูุฃุฎุทุงุก ุงูุชู ุฃุตูุญุชูุง ูู MS-DOS ูู OEM ุฏูู ููุณ PC-DOS.

ุงุฎุชูุงูุงุช ููุญูุธุฉ:
- ุฅุตูุงุญ ูุนุงูุฌุฉ INT 24 (ุงูุฎุทุฃ ุงูุญุฑุฌ) ูู ููุงุฉ DOS
- ุญูุงูุฉ ูู ุชุฌุงูุฒ ุงูุฃุนุฏุงุฏ ุงูุตุญูุญุฉ ูู FDISK ููุฃูุฑุงุต ุงููุจูุฑุฉ
- ุฐุงูุฑุฉ ูุคูุชุฉ EMS ุฃูุจุฑ ูู FASTOPEN
- ุงูุชุญูู ูู ุตุญุฉ ุงูุฅุฏุฎุงู ุฃูุถู ูู EXE2BIN

ูููุฉ **msdos** ุงูุงูุชุฑุงุถูุฉ ูู ูุง ูุงูุช ุดุฑูุงุช OEM ูุซู Compaq ูDell ูHP ุจุดุญููุง ูู "MS-DOS" ุนูู ุฃุฌูุฒุชูุง ุงููุชูุงููุฉ ูุน IBM. ูุจุฏู ุฃู ูุฐุง ุงูุฅุตุฏุงุฑ ุงููุตุฏุฑู ูุดุชู ูุนูููุง ูู OAK (OEM Adaptation Kit) -- ุงูููุฏ ุงูุฐู ูุฏูุชู Microsoft ูุดุฑูุงุช OEM ููุณูุงุญ ููู ุจุชุฎุตูุต MS-DOS ูุฃุฌูุฒุชูู.

## ุฎูุงุฑุงุช ุตูุฑ ุงูุฃูุฑุงุต

```bash
# ุตูุฑ ุงูุฃูุฑุงุต ุงูุตูุจุฉ (ููุชุฌ msdos4.img + msdos4-dosemu.img)
./mkhdimg.sh                    # ุตูุฑุฉ FAT16 ุจุญุฌู 64 ููุฌุงุจุงูุช
./mkhdimg.sh --size 32          # ุตูุฑุฉ 32 ููุฌุงุจุงูุช

# ุตูุฑ ุงูุฃูุฑุงุต ุงููุฑูุฉ (ุฌููุน ุงูุฃุญุฌุงู)
./mkhdimg.sh --floppy           # 1.44 ููุฌุงุจุงูุช ุจุณูุทุฉ (ูููุงุช ุงููุธุงู ููุท)
./mkhdimg.sh --floppy=360 --floppy-full   # 360 ููููุจุงูุช ูุน ุงูุฃุฏูุงุช
./mkhdimg.sh --floppy=720 --floppy-full   # 720 ููููุจุงูุช ูุน ุงูุฃุฏูุงุช
./mkhdimg.sh --floppy=1200 --floppy-full  # 1.2 ููุฌุงุจุงูุช ูุน ุงูุฃุฏูุงุช
./mkhdimg.sh --floppy=1440 --floppy-full  # 1.44 ููุฌุงุจุงูุช ูุน ุงูุฃุฏูุงุช
```

ุตูุฑ ุงูุฃูุฑุงุต ุงูุตูุจุฉ ูุชู ุฅูุชุงุฌูุง ูู ุตูุบุชูู: `msdos4.img` ูู ุตูุฑุฉ ูุฑุต ุฎุงู ุชุนูู ูุน QEMU ูVirtualBox ูbochs ููุนุธู ุงููุญุงููุงุช. `msdos4-dosemu.img` ูู ุจุตูุบุฉ hdimage ุงูุฎุงุตุฉ ุจู dosemu (ุฑุฃุณูุฉ 128 ุจุงูุช). ุตูุฑ ุงูุฃูุฑุงุต ุงููุฑูุฉ ุฎุงู ูุชุนูู ูู ูู ููุงู.

## ุงููููุฏ ุงููุนุฑููุฉ

- **DOS Shell ุบูุฑ ูุถูู**: ุงูููุฏ ุงููุตุฏุฑู ูู DOS Shell (DOSSHELL) ูู ูุชู ูุชุญ ูุตุฏุฑู. SELECT.EXE (ุงููุซุจุช) ูุดุงุฑู ุจุนุถ ุงูููุฏ ูุน DOSSHELL ููุง ูููู ุจูุงุคู.
- **ุนูุงูุฉ PC-DOS ุงูุชุฌุงุฑูุฉ ุบูุฑ ููุชููุฉ**: ุจูุงุก `--flavor=pcdos` ูุณุชุฎุฏู ุฃุณูุงุก ูููุงุช ุงููุธุงู ุงูุฎุงุตุฉ ุจู IBM (IBMBIO.COMุ IBMDOS.COM) ูุจุนุถ ูุณุงุฑุงุช ุงูููุฏ ุงูุฎุงุตุฉ ุจู PC-DOSุ ูููู ูุง ูุฒุงู ูุนุฑุถ "MS-DOS" ูู VER ููุงูุชุฉ ุจุฏุก ุงูุชุดุบูู. ูุฐุง ูุฃู ููู ุฑุณุงุฆู IBM (`usa-ibm.msg` ุฃู ูุง ุดุงุจู) ูู ูุชู ูุชุญ ูุตุฏุฑู -- ููุท `usa-ms.msg` ุงููุญูู ุจุนูุงูุฉ Microsoft ุงูุชุฌุงุฑูุฉ ุชู ุฅุตุฏุงุฑู.
- **ุจูุงุก ุบูุฑ ูุชูุงูู ูุน IBM**: ุชูููู ุซุงูุซ (`IBMVER=FALSE`) ููุฌูุฏ ูู ุงููุตุฏุฑ ููุฃุฌูุฒุฉ ุบูุฑ ุงููุชูุงููุฉ ูุน IBMุ ูููู ูุง ููุจูู ุจูุฌุงุญ. ูุจุฏู ุฃู ูุฐุง ุงูุชูููู ูุฎุตุต ูุจุนุถ ุฃุฌูุฒุฉ ุงูููุจููุชุฑ x86 ุบูุฑ ุงููุชูุงููุฉ ูุน IBM ูุตูุฑุฉ ุงูุนูุฑ ูู ุฃูุงุฆู ุงูุซูุงููููุงุช -- ููู ูุชุฌูุจ ุจุดูู ุฎุงุต ุจุนุถ ูุณุงุฑุงุช ุงูููุฏ ุงูุฎุงุตุฉ ุจุงูุฃุฌูุฒุฉ ุงููุชูุงููุฉ ูุน IBM ุงูุชู ุชุชุนุงูู ูุน ุงูุฃุฌูุฒุฉ ูุซู BIOS ูPIC ูPIT ููุง ุฅูู ุฐูู. ูุฒูุฏ ูู ุงูุชุญููู ุถุฑูุฑูุ ููู ูู ุงููุญุชูู ุฃู ุชููู ุดุฌุฑุฉ ุงููุตุฏุฑ ูุฐู ุบูุฑ ููุชููุฉ ูุชูุชูุฏ ุงูููุฏ ุงูุฎุงุต ุจุงูุฃุฌูุฒุฉ (ุฃุดูุงุก IO.SYS) ุงูุชู ุณุชููู ูุทููุจุฉ ูุชูููุฐ ุฎุฏูุงุช DOS ุนูู ูุซู ูุฐู ุงูุฃุฌูุฒุฉ.

# ุงูุนูุงูุงุช ุงูุชุฌุงุฑูุฉ

ูุฏ ูุญุชูู ูุฐุง ุงููุดุฑูุน ุนูู ุนูุงูุงุช ุชุฌุงุฑูุฉ ุฃู ุดุนุงุฑุงุช ููุดุงุฑูุน ุฃู ููุชุฌุงุช ุฃู ุฎุฏูุงุช. ุงูุงุณุชุฎุฏุงู ุงููุตุฑุญ ุจู ููุนูุงูุงุช ุงูุชุฌุงุฑูุฉ ุฃู ุงูุดุนุงุฑุงุช ุงูุฎุงุตุฉ ุจู Microsoft ูุฎุถุน ูู [ุฅุฑุดุงุฏุงุช ุงูุนูุงูุงุช ุงูุชุฌุงุฑูุฉ ูุงูุนูุงูุฉ ุงูุชุฌุงุฑูุฉ ูู Microsoft](https://www.microsoft.com/legal/intellectualproperty/trademarks/usage/general) ููุฌุจ ุงุชุจุงุนูุง.
ุงุณุชุฎุฏุงู ุงูุนูุงูุงุช ุงูุชุฌุงุฑูุฉ ุฃู ุงูุดุนุงุฑุงุช ุงูุฎุงุตุฉ ุจู Microsoft ูู ุฅุตุฏุงุฑุงุช ูุนุฏูุฉ ูู ูุฐุง ุงููุดุฑูุน ูุฌุจ ุฃูุง ูุณุจุจ ุงุฑุชุจุงููุง ุฃู ููุญู ุจุฑุนุงูุฉ Microsoft.
ุฃู ุงุณุชุฎุฏุงู ููุนูุงูุงุช ุงูุชุฌุงุฑูุฉ ุฃู ุงูุดุนุงุฑุงุช ุงูุฎุงุตุฉ ุจุฃุทุฑุงู ุซุงูุซุฉ ูุฎุถุน ูุณูุงุณุงุช ุชูู ุงูุฃุทุฑุงู ุงูุซุงูุซุฉ.
