<img width="150" height="150" align="left" style="float: left; margin: 0 10px 0 0;" alt="MS-DOS logo" src="https://github.com/Microsoft/MS-DOS/blob/main/.readmes/msdos-logo.png">

# –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ MS-DOS v1.25, v2.0, v4.0

[![Build MS-DOS 4](https://github.com/tgies/MS-DOS/actions/workflows/build.yml/badge.svg)](https://github.com/tgies/MS-DOS/actions/workflows/build.yml)

–≠—Ç–æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–æ–¥–µ—Ä–∂–∏—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –∏ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –±–∏–Ω–∞—Ä–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è MS-DOS v1.25 –∏ MS-DOS v2.0, –∞ —Ç–∞–∫–∂–µ –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ MS-DOS v4.00, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π —Å–æ–≤–º–µ—Å—Ç–Ω–æ IBM –∏ Microsoft.

–§–∞–π–ª—ã MS-DOS v1.25 –∏ v2.0 [–±—ã–ª–∏ –≤–ø–µ—Ä–≤—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –≤ –ú—É–∑–µ–µ –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω–æ–π –∏—Å—Ç–æ—Ä–∏–∏ 25 –º–∞—Ä—Ç–∞ 2014 –≥–æ–¥–∞](http://www.computerhistory.org/atchm/microsoft-ms-dos-early-source-code/) –∏ –ø—É–±–ª–∏–∫—É—é—Ç—Å—è (–ø–æ–≤—Ç–æ—Ä–Ω–æ) –≤ —ç—Ç–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏, —á—Ç–æ–±—ã –∏—Ö –±—ã–ª–æ –ø—Ä–æ—â–µ –Ω–∞–π—Ç–∏, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Å—Å—ã–ª–æ–∫ –≤–æ –≤–Ω–µ—à–Ω–∏—Ö —Å—Ç–∞—Ç—å—è—Ö –∏ —Ä–∞–±–æ—Ç–∞—Ö, –∞ —Ç–∞–∫–∂–µ –¥–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π –∏ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤ –≤—Å–µ–º, –∫—Ç–æ –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç—Å—è —Ä–∞–Ω–Ω–∏–º–∏ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏ –¥–ª—è –ü–ö.

# –û –¥–∞–Ω–Ω–æ–º —Ñ–æ—Ä–∫–µ

–≠—Ç–æ—Ç —Ñ–æ—Ä–∫ –¥–æ–±–∞–≤–ª—è–µ—Ç —Ä–∞–±–æ—Ç–∞—é—â—É—é —Å–∏—Å—Ç–µ–º—É —Å–±–æ—Ä–∫–∏ –∏ CI-–∫–æ–Ω–≤–µ–π–µ—Ä –¥–ª—è –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞ MS-DOS 4.0. –û–Ω —Å–æ–±–∏—Ä–∞–µ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –∏—Å—Ö–æ–¥–Ω–∏–∫–∏ –Ω–∞ –∞—Å—Å–µ–º–±–ª–µ—Ä–µ 8086 –∏ C –≤ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é –∑–∞–≥—Ä—É–∑–æ—á–Ω—É—é –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É ‚Äî –∫–∞–∫ –≤ –≤–∞—Ä–∏–∞–Ω—Ç–µ OEM **MS-DOS**, —Ç–∞–∫ –∏ **IBM PC-DOS**.

–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ —Å–±–æ—Ä–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –≥–æ—Ç–æ–≤—ã–µ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –æ–±—Ä–∞–∑—ã –¥–∏—Å–∫–æ–≤ (–∂—ë—Å—Ç–∫–∏–π –¥–∏—Å–∫ 64 –ú–ë –∏ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∏—Å–∫–µ—Ç—ã –æ—Ç 360 –ö–ë –¥–æ 1,44 –ú–ë), –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤ QEMU, VirtualBox, bochs, dosemu, 86Box, PCem –∏–ª–∏ –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º –≤–∏–Ω—Ç–∞–∂–Ω–æ–º –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–∏. –ì–æ—Ç–æ–≤—ã–µ –æ–±—Ä–∞–∑—ã –¥–æ—Å—Ç—É–ø–Ω—ã –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ [Releases](https://github.com/tgies/MS-DOS/releases).

–≠—Ç–∞ —Ä–∞–±–æ—Ç–∞ –≤–æ –º–Ω–æ–≥–æ–º –æ–ø–∏—Ä–∞–µ—Ç—Å—è –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –¥—Ä—É–≥–∏—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –ø–æ —Å–±–æ—Ä–∫–µ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞ MS-DOS 4.0 –ø—É—Ç—ë–º –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–µ–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º –≤ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω–æ–º –¥–µ—Ä–µ–≤–µ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤ (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—É—Ç–∏ –∫ —Ñ–∞–π–ª–∞–º –∏ –∏—Å–∫–∞–∂—ë–Ω–Ω—ã–µ –∫–æ–¥–∏—Ä–æ–≤–∫–∏ —Å–∏–º–≤–æ–ª–æ–≤), –≤–∫–ª—é—á–∞—è, –ø–æ–º–∏–º–æ –ø—Ä–æ—á–∏—Ö, —Ä–∞–±–æ—Ç—É [ecm](https://hg.pushbx.org/ecm/msdos4) –∏ [hharte](https://github.com/hharte/MS-DOS/commit/1f506100a818cb9b6c2b29aeda8d4d24d094c477).

# –ü–æ–ø—Ä–æ–±—É–π—Ç–µ

–ó–∞–≥—Ä—É–∑–∏—Ç–µ `msdos4.img` –∏–∑ [–ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Ä–µ–ª–∏–∑–∞](https://github.com/tgies/MS-DOS/releases) –∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ –µ–≥–æ:

```bash
qemu-system-i386 -hda msdos4.img
```

–ò–ª–∏ —Å DOSBox, –∑–∞–ø—É—Å—Ç–∏—Ç–µ DOSBox –∫–∞–∫ –æ–±—ã—á–Ω–æ, –∞ –∑–∞—Ç–µ–º –∑–∞–≥—Ä—É–∑–∏—Ç–µ –æ–±—Ä–∞–∑ (–Ω–µ —É–∫–∞–∑—ã–≤–∞–π—Ç–µ `-l C` –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –æ–±—Ä–∞–∑–∞ –¥–∏—Å–∫–µ—Ç—ã):

```bash
BOOT msdos4.img -l C
```

–ò–ª–∏ —Å dosemu (–∑–∞–≥—Ä—É–∑–∏—Ç–µ `msdos4-dosemu.img`, –∫–æ—Ç–æ—Ä—ã–π –∏–º–µ–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ –¥–ª—è dosemu2):

```bash
dosemu -f <(echo '$_hdimage = "msdos4-dosemu.img"')
```

# –õ–∏—Ü–µ–Ω–∑–∏—è

–í—Å–µ —Ñ–∞–π–ª—ã –≤ —ç—Ç–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω—ã –ø–æ–¥ [–ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT](https://en.wikipedia.org/wiki/MIT_License) –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å [—Ñ–∞–π–ª–æ–º LICENSE](https://github.com/Microsoft/MS-DOS/blob/main/LICENSE) –≤ –∫–æ—Ä–Ω–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è.

# –î–ª—è –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–π —Å–ø—Ä–∞–≤–∫–∏

> **–ü–†–ò–ú–ï–ß–ê–ù–ò–ï:** –≠—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª —Å–æ—Ö—Ä–∞–Ω—ë–Ω –∏–∑ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ README.md –æ—Ç Microsoft, —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞–≤—à–µ–≥–æ —Ä–µ–ª–∏–∑ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞. –°–∫—Ä–∏–ø—Ç—ã —Å–±–æ—Ä–∫–∏ –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –≤ —ç—Ç–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–≥–æ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞. Pull request'—ã —Å —É–ª—É—á—à–µ–Ω–∏—è–º–∏ —Å–∏—Å—Ç–µ–º—ã —Å–±–æ—Ä–∫–∏ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è.

–§–∞–π–ª—ã –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞ –≤ —ç—Ç–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω—ã –¥–ª—è –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–π —Å–ø—Ä–∞–≤–∫–∏ –∏ –æ—Å—Ç–∞–Ω—É—Ç—Å—è –Ω–µ–∏–∑–º–µ–Ω–Ω—ã–º–∏, –ø–æ—ç—Ç–æ–º—É, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, **–Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–π—Ç–µ** Pull Request'—ã —Å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∏—Å—Ö–æ–¥–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤, –Ω–æ –Ω–µ —Å—Ç–µ—Å–Ω—è–π—Ç–µ—Å—å —Ñ–æ—Ä–∫–∞—Ç—å —ç—Ç–æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å üòä.

–í —ç—Ç–æ–º –ø—Ä–æ–µ–∫—Ç–µ –ø—Ä–∏–Ω—è—Ç [–ö–æ–¥–µ–∫—Å –ø–æ–≤–µ–¥–µ–Ω–∏—è Microsoft Open Source](https://opensource.microsoft.com/codeofconduct/). –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é —Å–º–æ—Ç—Ä–∏—Ç–µ –≤ [FAQ –ø–æ –ö–æ–¥–µ–∫—Å—É –ø–æ–≤–µ–¥–µ–Ω–∏—è](https://opensource.microsoft.com/codeofconduct/faq/) –∏–ª–∏ –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å –ø–æ –∞–¥—Ä–µ—Å—É [opencode@microsoft.com](mailto:opencode@microsoft.com) —Å –ª—é–±—ã–º–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –≤–æ–ø—Ä–æ—Å–∞–º–∏ –∏–ª–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏.

# –°–±–æ—Ä–∫–∞ MS-DOS 4.0

–ì–æ—Ç–æ–≤—ã–µ –æ–±—Ä–∞–∑—ã –¥–∏—Å–∫–æ–≤ –¥–æ—Å—Ç—É–ø–Ω—ã –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ [Releases](https://github.com/tgies/MS-DOS/releases). –î–ª—è —Å–±–æ—Ä–∫–∏ –∏–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤:

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- dosemu2
- mtools
- mkfatimage16 (–∏–∑ dosemu2)

> [!IMPORTANT]
> **–¢—Ä–µ–±—É–µ—Ç—Å—è comcom64 0.4-0~202602051302 –∏–ª–∏ –Ω–æ–≤–µ–µ.** comcom64 ‚Äî —ç—Ç–æ –∑–∞–º–µ–Ω–∞ command.com, –∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –≤ dosemu2. –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–Ω–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ –∏–º–µ—é—Ç [–±–∞–≥ –≤ –∫–æ–º–∞–Ω–¥–µ `COPY`](https://github.com/dosemu2/comcom64/pull/117), –∫–æ—Ç–æ—Ä—ã–π –ª–æ–º–∞–µ—Ç –∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏—é —Ñ–∞–π–ª–æ–≤ (`copy /b a+b dest`) –ø—Ä–∏ –≤—ã–∑–æ–≤–µ —á–µ—Ä–µ–∑ `COMMAND /C`, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç nmake –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥ makefile. –≠—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ —Ç–∏—Ö–æ–º—É —Å–±–æ—é —Å–±–æ—Ä–∫–∏ IO.SYS.
>
> –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∞—à—É –≤–µ—Ä—Å–∏—é —Å –ø–æ–º–æ—â—å—é `dpkg -s comcom64 | grep Version` (Debian/Ubuntu) –∏–ª–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —á–µ—Ä–µ–∑ –º–µ–Ω–µ–¥–∂–µ—Ä –ø–∞–∫–µ—Ç–æ–≤. –ï—Å–ª–∏ —É –≤–∞—Å —Å—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è:
> - **–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:** –û–±–Ω–æ–≤–∏—Ç–µ comcom64 –¥–æ –≤–µ—Ä—Å–∏–∏ 0.4-0~202602051302 –∏–ª–∏ –Ω–æ–≤–µ–µ
> - **–û–±—Ö–æ–¥–Ω–æ–π –ø—É—Ç—å:** –°–æ–±–µ—Ä–∏—Ç–µ comcom64 –∏–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤: `git clone https://github.com/dosemu2/comcom64 && cd comcom64 && make && sudo make install` (—É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `make install` —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø–æ–≤–µ—Ä—Ö —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ `command.efi`)

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
cd v4.0
./mak.sh              # –°–æ–±—Ä–∞—Ç—å DOS 4
./mkhdimg.sh          # –°–æ–∑–¥–∞—Ç—å –æ–±—Ä–∞–∑ –∂—ë—Å—Ç–∫–æ–≥–æ –¥–∏—Å–∫–∞ 64 –ú–ë
./mkhdimg.sh --floppy # –°–æ–∑–¥–∞—Ç—å –∑–∞–≥—Ä—É–∑–æ—á–Ω—É—é –¥–∏—Å–∫–µ—Ç—É 1,44 –ú–ë
```

## –í–∞—Ä–∏–∞–Ω—Ç—ã —Å–±–æ—Ä–∫–∏

–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π —Å–±–æ—Ä–∫–∏. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–ª–∞–≥ `--flavor`:

```bash
./mak.sh                    # –°–æ–±—Ä–∞—Ç—å MS-DOS (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
./mak.sh --flavor=pcdos     # –°–æ–±—Ä–∞—Ç—å IBM PC-DOS
```

| –í–∞—Ä–∏–∞–Ω—Ç | –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ñ–∞–π–ª—ã | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|-----------------|----------|
| **msdos** | IO.SYS, MSDOS.SYS | OEM MS-DOS –¥–ª—è IBM-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã—Ö –ü–ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) |
| **pcdos** | IBMBIO.COM, IBMDOS.COM | IBM PC-DOS (–¥–ª—è –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏) |

–û–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –≤–∫–ª—é—á–∞—é—Ç –∫–æ–¥, —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–π –¥–ª—è –∞–ø–ø–∞—Ä–∞—Ç–Ω–æ–≥–æ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è IBM PC (INT 10H –≤–∏–¥–µ–æ BIOS, 8259 PIC, –ø–æ–¥–¥–µ—Ä–∂–∫–∞ ROM-–∫–∞—Ä—Ç—Ä–∏–¥–∂–µ–π PCjr).

**–í–∞–∂–Ω–æ:** –í–∞—Ä–∏–∞–Ω—Ç **msdos** —Å–æ–¥–µ—Ä–∂–∏—Ç –±–æ–ª—å—à–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π –æ—à–∏–±–æ–∫, —á–µ–º **pcdos**. –ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ, Microsoft –º–æ–≥–ª–∞ –≤—ã–ø—É—Å–∫–∞—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ OEM MS-DOS –±—ã—Å—Ç—Ä–µ–µ, —á–µ–º –ø—Ä–æ—Ü–µ—Å—Å —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è IBM –ø–æ–∑–≤–æ–ª—è–ª –¥–ª—è PC-DOS. –ò–∑–≤–µ—Å—Ç–Ω–æ, —á—Ç–æ IBM —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ –≤—Ä–µ–º–µ–Ω–Ω–æ –≤–∑—è–ª–∞ –Ω–∞ —Å–µ–±—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É DOS –ø—Ä–∏–º–µ—Ä–Ω–æ —Å DOS 3.3 –ø–æ DOS 4.0, –ø–æ—ç—Ç–æ–º—É –æ–¥–Ω–∞ –∏–∑ –≤–æ–∑–º–æ–∂–Ω—ã—Ö —Ç–µ–æ—Ä–∏–π –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ç–æ–º, —á—Ç–æ PC-DOS —Å—á–∏—Ç–∞–ª–∞—Å—å —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ –∑–∞–º–æ—Ä–æ–∂–µ–Ω–Ω–æ–π, –∫–æ–≥–¥–∞ –∫–æ–¥ –±—ã–ª –≤–æ–∑–≤—Ä–∞—â—ë–Ω Microsoft, –∫–æ—Ç–æ—Ä–∞—è –æ–±–Ω–∞—Ä—É–∂–∏–ª–∞ —Ä—è–¥ –æ—à–∏–±–æ–∫ –∏ –∏—Å–ø—Ä–∞–≤–∏–ª–∞ –∏—Ö –≤ OEM MS-DOS, –Ω–µ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞—è PC-DOS.

–ó–∞–º–µ—Ç–Ω—ã–µ —Ä–∞–∑–ª–∏—á–∏—è:
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ INT 24 (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞) –≤ —è–¥—Ä–µ DOS
- –ó–∞—â–∏—Ç–∞ –æ—Ç —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω–æ–≥–æ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è –≤ FDISK –¥–ª—è –±–æ–ª—å—à–∏—Ö –¥–∏—Å–∫–æ–≤
- –ë–æ–ª—å—à–∏–µ –±—É—Ñ–µ—Ä—ã EMS –≤ FASTOPEN
- –£–ª—É—á—à–µ–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–≤–æ–¥–∞ –≤ EXE2BIN

–í–∞—Ä–∏–∞–Ω—Ç **msdos** –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Äî —ç—Ç–æ —Ç–æ, —á—Ç–æ OEM-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–∏ –≤—Ä–æ–¥–µ Compaq, Dell –∏ HP –ø–æ—Å—Ç–∞–≤–ª—è–ª–∏ –∫–∞–∫ "MS-DOS" –Ω–∞ —Å–≤–æ–∏—Ö IBM-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã—Ö –ü–ö. –≠—Ç–æ—Ç —Ä–µ–ª–∏–∑ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏, –ø–æ—Ö–æ–∂–µ, –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∏–∑ OAK (OEM Adaptation Kit) ‚Äî –∫–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–π Microsoft –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–ª–∞ OEM-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è–º, —á—Ç–æ–±—ã –ø–æ–∑–≤–æ–ª–∏—Ç—å –∏–º –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å MS-DOS –ø–æ–¥ —Å–≤–æ—ë –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ.

## –û–ø—Ü–∏–∏ –æ–±—Ä–∞–∑–æ–≤ –¥–∏—Å–∫–æ–≤

```bash
# –û–±—Ä–∞–∑—ã –∂—ë—Å—Ç–∫–æ–≥–æ –¥–∏—Å–∫–∞ (—Å–æ–∑–¥–∞—ë—Ç msdos4.img + msdos4-dosemu.img)
./mkhdimg.sh                    # –û–±—Ä–∞–∑ FAT16 64 –ú–ë
./mkhdimg.sh --size 32          # –û–±—Ä–∞–∑ 32 –ú–ë

# –û–±—Ä–∞–∑—ã –¥–∏—Å–∫–µ—Ç (–≤—Å–µ —Ä–∞–∑–º–µ—Ä—ã)
./mkhdimg.sh --floppy           # 1,44 –ú–ë –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π (—Ç–æ–ª—å–∫–æ —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ñ–∞–π–ª—ã)
./mkhdimg.sh --floppy=360 --floppy-full   # 360 –ö–ë —Å —É—Ç–∏–ª–∏—Ç–∞–º–∏
./mkhdimg.sh --floppy=720 --floppy-full   # 720 –ö–ë —Å —É—Ç–∏–ª–∏—Ç–∞–º–∏
./mkhdimg.sh --floppy=1200 --floppy-full  # 1,2 –ú–ë —Å —É—Ç–∏–ª–∏—Ç–∞–º–∏
./mkhdimg.sh --floppy=1440 --floppy-full  # 1,44 –ú–ë —Å —É—Ç–∏–ª–∏—Ç–∞–º–∏
```

–û–±—Ä–∞–∑—ã –∂—ë—Å—Ç–∫–∏—Ö –¥–∏—Å–∫–æ–≤ —Å–æ–∑–¥–∞—é—Ç—Å—è –≤ –¥–≤—É—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö: `msdos4.img` ‚Äî —ç—Ç–æ raw-–æ–±—Ä–∞–∑ –¥–∏—Å–∫–∞, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–±–æ—Ç–∞–µ—Ç —Å QEMU, VirtualBox, bochs –∏ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ–º —ç–º—É–ª—è—Ç–æ—Ä–æ–≤. `msdos4-dosemu.img` ‚Äî —ç—Ç–æ —Ñ–æ—Ä–º–∞—Ç hdimage –¥–ª—è dosemu (–∑–∞–≥–æ–ª–æ–≤–æ–∫ 128 –±–∞–π—Ç). –û–±—Ä–∞–∑—ã –¥–∏—Å–∫–µ—Ç ‚Äî raw –∏ —Ä–∞–±–æ—Ç–∞—é—Ç –≤–µ–∑–¥–µ.

## –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

- **DOS Shell –Ω–µ –≤–∫–ª—é—á—ë–Ω**: –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ DOS Shell (DOSSHELL) –Ω–µ –±—ã–ª –æ—Ç–∫—Ä—ã—Ç. SELECT.EXE (–ø—Ä–æ–≥—Ä–∞–º–º–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏) –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —á–∞—Å—Ç—å –∫–æ–¥–∞ —Å DOSSHELL –∏ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–æ–±—Ä–∞–Ω–∞.
- **–ë—Ä–µ–Ω–¥–∏–Ω–≥ PC-DOS –Ω–µ–ø–æ–ª–Ω—ã–π**: –°–±–æ—Ä–∫–∞ `--flavor=pcdos` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏–º–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ IBM (IBMBIO.COM, IBMDOS.COM) –∏ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è PC-DOS –ø—É—Ç–∏ –∫–æ–¥–∞, –Ω–æ –≤—Å—ë –µ—â—ë –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç "MS-DOS" –≤ VER –∏ —Å—Ç–∞—Ä—Ç–æ–≤–æ–º –±–∞–Ω–Ω–µ—Ä–µ. –≠—Ç–æ –ø–æ—Ç–æ–º—É, —á—Ç–æ —Ñ–∞–π–ª —Å–æ–æ–±—â–µ–Ω–∏–π IBM (`usa-ibm.msg` –∏–ª–∏ –ø–æ–¥–æ–±–Ω—ã–π) –Ω–µ –±—ã–ª –æ—Ç–∫—Ä—ã—Ç ‚Äî —Ç–æ–ª—å–∫–æ –±—Ä–µ–Ω–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π Microsoft `usa-ms.msg` –±—ã–ª –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω.
- **–°–±–æ—Ä–∫–∞ –¥–ª—è –Ω–µ-IBM-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã—Ö —Å–∏—Å—Ç–µ–º**: –¢—Ä–µ—Ç—å—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (`IBMVER=FALSE`) —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –∏—Å—Ö–æ–¥–Ω–∏–∫–∞—Ö –¥–ª—è –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è, –Ω–µ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ–≥–æ —Å IBM, –Ω–æ –æ–Ω–∞ –Ω–µ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ. –ü–æ—Ö–æ–∂–µ, —á—Ç–æ —ç—Ç–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ–¥–æ–ª–≥–æ–≤–µ—á–Ω—ã—Ö x86 –ü–ö –Ω–∞—á–∞–ª–∞ 1980-—Ö, –Ω–µ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã—Ö —Å IBM ‚Äî –æ–Ω–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –∏–∑–±–µ–≥–∞–µ—Ç –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö –ø—É—Ç–µ–π –∫–æ–¥–∞, —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –¥–ª—è IBM-—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ–º –≤—Ä–æ–¥–µ BIOS, PIC, PIT –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ. –¢—Ä–µ–±—É–µ—Ç—Å—è –¥–∞–ª—å–Ω–µ–π—à–µ–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ, –Ω–æ –≤–µ—Ä–æ—è—Ç–Ω–æ, —á—Ç–æ —ç—Ç–æ –¥–µ—Ä–µ–≤–æ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤ –Ω–µ–ø–æ–ª–Ω–æ–µ –∏ –≤ –Ω—ë–º –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–π –¥–ª—è –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è –∫–æ–¥ (IO.SYS), –∫–æ—Ç–æ—Ä—ã–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –±—ã–ª–æ –±—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–ª—É–∂–± DOS –Ω–∞ —Ç–∞–∫–æ–º –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–∏.

# –¢–æ—Ä–≥–æ–≤—ã–µ –º–∞—Ä–∫–∏

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ç–æ—Ä–≥–æ–≤—ã–µ –º–∞—Ä–∫–∏ –∏–ª–∏ –ª–æ–≥–æ—Ç–∏–ø—ã –ø—Ä–æ–µ–∫—Ç–æ–≤, –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –∏–ª–∏ —É—Å–ª—É–≥. –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤—ã—Ö –º–∞—Ä–æ–∫ –∏–ª–∏ –ª–æ–≥–æ—Ç–∏–ø–æ–≤ Microsoft —Ä–µ–≥—É–ª–∏—Ä—É–µ—Ç—Å—è –∏ –¥–æ–ª–∂–Ω–æ —Å–ª–µ–¥–æ–≤–∞—Ç—å [–†—É–∫–æ–≤–æ–¥—Å—Ç–≤—É Microsoft –ø–æ —Ç–æ—Ä–≥–æ–≤—ã–º –º–∞—Ä–∫–∞–º –∏ –±—Ä–µ–Ω–¥–∞–º](https://www.microsoft.com/legal/intellectualproperty/trademarks/usage/general).
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤—ã—Ö –º–∞—Ä–æ–∫ –∏–ª–∏ –ª–æ–≥–æ—Ç–∏–ø–æ–≤ Microsoft –≤ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –≤–µ—Ä—Å–∏—è—Ö —ç—Ç–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–µ –¥–æ–ª–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å –ø—É—Ç–∞–Ω–∏—Ü—É –∏–ª–∏ –ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞—Ç—å —Å–ø–æ–Ω—Å–æ—Ä—Å—Ç–≤–æ Microsoft.
–õ—é–±–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤—ã—Ö –º–∞—Ä–æ–∫ –∏–ª–∏ –ª–æ–≥–æ—Ç–∏–ø–æ–≤ —Ç—Ä–µ—Ç—å–∏—Ö –ª–∏—Ü —Ä–µ–≥—É–ª–∏—Ä—É–µ—Ç—Å—è –ø–æ–ª–∏—Ç–∏–∫–∞–º–∏ —ç—Ç–∏—Ö —Ç—Ä–µ—Ç—å–∏—Ö –ª–∏—Ü.
